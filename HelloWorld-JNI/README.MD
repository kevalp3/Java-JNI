# Hello World JNI

In this project we will going to use C++ as a native language and g++ as a compiler.

### Below are the prerequiste to run this
- Ubuntu Linux : run command in terminal "**sudo apt-get install build-essential**"
- Windows : [MingW](http://www.mingw.org/) 64-bit version
- MacOs: run command in terminal "**g++**". if it not in your system then it will be installed automatically.

---

## Perform below steps in sequence to get the result

1. **Generate the header file.**

> By doing this we will get header file generated by `javac`

> `javac -h com\test\jni\. com\test\jni\HelloWorldJNI.java`

2. **Compiling**

> By doing this we will get the `.o` as a result of `.cpp` file

> - Linux - `g++ -c -fPIC -I"${JAVA_HOME}/include" -I"${JAVA_HOME}/include/linux" com/test/jni/com_test_jni_HelloWorldJNI.cpp -o com/test/jni/com_test_jni_HelloWorldJNI.o`

> - Windows - `g++ -c -I"%JAVA_HOME%\include" -I"%JAVA_HOME%\include\win32" com\test\jni\com_test_jni_HelloWorldJNI.cpp -o com\test\jni\com_test_jni_HelloWorldJNI.o`

> - MacOs - `g++ -c -fPIC -I"${JAVA_HOME}/include" -I"${JAVA_HOME}/include/darwin" com/test/jni/com_test_jni_HelloWorldJNI.cpp -o com/test/jni/com_test_jni_HelloWorldJNI.o`

3. **Linking**

> Now we will going to create a .so, .dll or .dylib file for Linux, Windows and MacOs respectively.

> - Linux - `g++ -shared -fPIC -o com/test/jni/libnative.so com/test/jni/com_test_jni_HelloWorldJNI.o -lc`

> - Windows - `g++ -shared -o com\test\jni\native.dll com\test\jni\com_test_jni_HelloWorldJNI.o -Wl,--add-stdcall-alias`

> - MacOs - `g++ -dynamiclib -o com/test/jni/libnative.dylib com_test_jni_HelloWorldJNI.o -lc`

> **Note :** We can pass multiple .o file to combine them in single dll like `g++ -shared -o abc.o xyz.o -Wl,--add-stdcall-alias`

4. **Running the program**

> We need to specify the full path in NATIVE_SHARED_LIB_FOLDER

> `java -cp . -Djava.library.path=/NATIVE_SHARED_LIB_FOLDER com.test.jni.HelloWorldJNI`

> Console output

> `Hello from C++ !!`


For more details you can take reference from [Baeldung JNI](https://www.baeldung.com/jni)